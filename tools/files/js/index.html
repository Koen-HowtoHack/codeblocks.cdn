<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cijfer Berekening</title>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Controleer of de disclaimer is geaccepteerd
            if (!localStorage.getItem('disclaimerGeaccepteerd')) {
                // Toon de popup
                document.getElementById('disclaimerPopup').style.display = 'block';

                // Voeg een event listener toe aan de "Accepteren" knop
                document.getElementById('accepteerDisclaimer').addEventListener('click', function() {
                    // Sla op dat de disclaimer is geaccepteerd in localStorage
                    localStorage.setItem('disclaimerGeaccepteerd', 'true');
                    // Verberg de popup
                    document.getElementById('disclaimerPopup').style.display = 'none';
                    // Initialiseer de rest van de pagina (optioneel, als je andere dingen in JS doet)
                    initPage(); // Zie de noot onderaan
                });
            } else {
                // Als de disclaimer al is geaccepteerd, initialiseer de pagina
                initPage(); // Zie de noot onderaan
            }

            function initPage() {
                // Verkrijg de knoppen en invoervelden
                const berekenKnop = document.getElementById('berekenKnop');
                const opslaanKnop = document.getElementById('opslaanKnop');
                const puntenBehaaldInput = document.getElementById('puntenBehaald');
                const totaalPuntenInput = document.getElementById('totaalPunten');
                const nTermInput = document.getElementById('nTerm');

                // Voeg een event listener toe aan de "Bereken Cijfer" knop
                berekenKnop.addEventListener('click', function() {
                    berekenCijfer();
                });

                // Voeg een event listener toe aan de "Opslaan Resultaat" knop
                opslaanKnop.addEventListener('click', function() {
                    slaResultaatOp();
                });

                // Functie om het cijfer te berekenen
                function berekenCijfer() {
                    // Verkrijg de waarden van de invoervelden
                    const puntenBehaald = parseFloat(puntenBehaaldInput.value);
                    const totaalPunten = parseFloat(totaalPuntenInput.value);
                    const nTerm = parseFloat(nTermInput.value);

                    // Controleer of de invoer geldig is
                    if (isNaN(puntenBehaald) || isNaN(totaalPunten) || isNaN(nTerm) || totaalPunten <= 0) {
                        alert("Voer geldige waarden in.");
                        return;
                    }

                    // Bereken het cijfer volgens de gegeven formule
                    const cijfer = (puntenBehaald / totaalPunten) * 9 + nTerm;

                    // Toon het resultaat
                    document.getElementById('resultaat').innerText = `Je cijfer is: ${cijfer.toFixed(2)}`;
                }

                // Functie om het resultaat op te slaan
                function slaResultaatOp() {
                    const resultaatTekst = document.getElementById('resultaat').innerText;
                    if (resultaatTekst) { // Zorg ervoor dat er een resultaat is om op te slaan
                        let opgeslagenResultaten = JSON.parse(localStorage.getItem('cijferResultaten')) || [];
                        opgeslagenResultaten.push(resultaatTekst);
                        localStorage.setItem('cijferResultaten', JSON.stringify(opgeslagenResultaten));
                        updateOpgeslagenResultatenWeergave();
                    } else {
                        alert("Bereken eerst een cijfer voordat je het opslaat.");
                    }
                }

                // Functie om de opgeslagen resultaten weer te geven
                function updateOpgeslagenResultatenWeergave() {
                    const opgeslagenResultatenDiv = document.getElementById('opgeslagenResultaten');
                    opgeslagenResultatenDiv.innerHTML = '<h3>Opgeslagen Resultaten:</h3>'; // Clear bestaande resultaten
                    const opgeslagenResultaten = JSON.parse(localStorage.getItem('cijferResultaten')) || [];
                    opgeslagenResultaten.forEach(resultaat => {
                        const p = document.createElement('p');
                        p.innerText = resultaat;
                        opgeslagenResultatenDiv.appendChild(p);
                    });
                }

                // Toon opgeslagen resultaten bij het laden van de pagina
                updateOpgeslagenResultatenWeergave();
            }
        });
    </script>
    <style>
        #disclaimerPopup {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
            color: white;
            padding: 20px;
            text-align: center;
            z-index: 10;
            overflow-y: auto; /* Zorg voor scrollbar als de inhoud te lang is */
        }
        #disclaimerPopup h2 {
            font-size: 1.5em;
            margin-bottom: 1em;
        }
        #disclaimerPopup p {
            margin-bottom: 1em;
            line-height: 1.5;
        }
        #accepteerDisclaimer {
            background-color: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            cursor: pointer;
            font-size: 1em;
            border-radius: 5px;
        }
        #accepteerDisclaimer:hover {
            background-color: #45a049;
        }
        @media (max-width: 600px) {
            #disclaimerPopup {
                padding: 10px;
            }
            #disclaimerPopup h2 {
                font-size: 1.2em;
            }
            #disclaimerPopup p {
                font-size: 0.9em;
            }
            #accepteerDisclaimer {
                font-size: 0.9em;
                padding: 8px 16px;
            }
        }
    </style>
</head>
<body>
    <div id="disclaimerPopup">
        <h2>Disclaimer</h2>
        <p>Deze applicatie is bedoeld voor educatieve doeleinden. De berekeningen die worden uitgevoerd zijn gebaseerd op de ingevoerde gegevens en de gebruikte formule.  Aan de uitkomst van deze berekening kunnen geen rechten worden ontleend.</p>
        <p>Door op "Accepteren" te klikken, verklaar je dat je deze voorwaarden begrijpt en ermee akkoord gaat.</p>
        <button id="accepteerDisclaimer">Accepteren</button>
    </div>

    <h1>Cijfer Berekening</h1>
    <label for="puntenBehaald">Aantal punten behaald:</label>
    <input type="number" id="puntenBehaald" required><br><br>

    <label for="totaalPunten">Totaal aantal punten:</label>
    <input type="number" id="totaalPunten" required><br><br>

    <label for="nTerm">N-term:</label>
    <input type="number" id="nTerm" required><br><br>

    <button id="berekenKnop">Bereken Cijfer</button><br><br>

    <div id="resultaat"></div><br>

    <button id="opslaanKnop">Opslaan Resultaat</button>
    <div id="opgeslagenResultaten">
        <h3>Opgeslagen Resultaten:</h3>
    </div>
</body>
</html>
